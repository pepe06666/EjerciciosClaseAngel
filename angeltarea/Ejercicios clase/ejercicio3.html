<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Calculadora</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-5">
        <div>
            <input type="text" placeholder="Resultado" class="w-100" id="inputRdo" readonly />
            <div class="container" id="teclas">
                <div class="row">
                    <div class="col-md-3 bg-light text-center ">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">1</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">2</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">3</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">+</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">4</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">5</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">6</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">-</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">7</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">8</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">9</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">x</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">C</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">0</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">=</button>
                    </div>
                    <div class="col-md-3 bg-light text-center">
                        <button class="btn btn-light" onclick="recogerBoton(this.innerText)">/</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    let datoAmostrar = "";
    let inputRadio = document.querySelector('#inputRdo');

    function recogerBoton(boton) {
        if (boton === "=") {
            let resultado = calcul(datoAmostrar);
            inputRadio.value = resultado;
            datoAmostrar = resultado.toString();
        } else if (boton === "C") {
            datoAmostrar = "";
            inputRadio.value = "";
        } else {
            datoAmostrar += boton;
            inputRadio.value = datoAmostrar;
        }
    }

    function calcul(expresion) {
        let numeros = [];
        let operadores = [];
        let numeroActual = "";

        for (let i = 0; i < expresion.length; i++) {
            let caracter = expresion[i];

            
            if (caracter === "+" || caracter === "-" || caracter === "x" || caracter === "/") {
                numeros.push(parseFloat(numeroActual)); 
                operadores.push(caracter); 
                numeroActual = "";  
            } else {
                numeroActual += caracter;  
            }
        }

        numeros.push(parseFloat(numeroActual));

        for (let i = 0; i < operadores.length; i++) {
            if (operadores[i] === "x" || operadores[i] === "/") {
                let operacion = operadores[i];
                let resultado;

                if (operacion === "x") {
                    resultado = numeros[i] * numeros[i + 1];
                } else if (operacion === "/") {
                    resultado = numeros[i] / numeros[i + 1];
                }

                numeros[i] = resultado;
                numeros.splice(i + 1, 1); 
                operadores.splice(i, 1);  
                i--;  
            }
        }

        let resultadoFinal = numeros[0];  
        for (let i = 0; i < operadores.length; i++) {
            if (operadores[i] === "+") {
                resultadoFinal += numeros[i + 1];
            } else if (operadores[i] === "-") {
                resultadoFinal -= numeros[i + 1];
            }
        }

        return resultadoFinal;
    }
</script>
